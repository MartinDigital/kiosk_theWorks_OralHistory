<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>A History of Newark</title>

        <meta http-equiv="x-ua-compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <link href="public/styles/style.min.css" rel="stylesheet" type="text/css" media="all"/>
    </head>

    <body>

        <header id="header">


	<div class="logo">
		<img src="public/images/logo.jpg"/>
	</div>

	<div class="legend">

		<a href="file:///homepage.html?cmd=/media/PiShare/Git/kiosk_OralHistory/volumeUp.sh" class="utility-button"><span class="icon volup"></span></a>
		<a href="file:///homepage.html?cmd=/media/PiShare/Git/kiosk_OralHistory/volumeDown.sh" class="utility-button"><span class="icon voldown"></span></a>

		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>

		<a href="#sectionhome" id="home-button" class="utility-button hidden"><span class="icon home"></span></a>
		<!-- <a href="#info" rel="modal:open" class="utility-button"><span class="icon info"></span></a> -->

		<a href="#sectionhome" id="home-button-hidden" class="smooth"></a>
		<a href="#sectionoutro" id="outro-button-hidden" class="smooth"></a>

	</div>


</header> 


       <div id="content">
            <div class='content-inner'>
                


            </div>
        </div>
        

        <div id="map">
            

<!-- Modals -->


<!-- <div id="info" style="display:none;">
	<img src="public/images/jatw-instructions.jpg"/>
</div> -->

<div id="speech" style="display:none;">
	<img src="public/images/jatw-speech.jpg"/>
</div>

<div id="video" class="video-modal" style="display:none;">
	<div class="video-controls">
		<a href="file:///homepage.html?cmd=/media/PiShare/Git/kiosk_JerrieMockWorld/stopOMX.sh%202>/dev/null%20&" class="utility-button stop-video"><span class="icon stop"></span></a>

		<div class="audio-controls">
			<a href="file:///homepage.html?cmd=/media/PiShare/Git/kiosk_JerrieMockWorld/volumeUp.sh" class="utility-button"><span class="icon volup"></span></a>
			<a href="file:///homepage.html?cmd=/media/PiShare/Git/kiosk_JerrieMockWorld/volumeDown.sh" class="utility-button"><span class="icon voldown"></span></a>
		</div>
	</div>

	<a href="file:///homepage.html?cmd=/media/PiShare/Git/kiosk_JerrieMockWorld/startOMX.sh%20&" class="video-restart"></a>
</div>

<div id="section0-photo" style="display:none;">
	<img src="public/images/modals/founding.jpg"/>
</div>

<div id="section-founding"  style="display:none;">
	<img src="public/images/modals/founding-01.jpg"/>
</div>

<div id="section-founding-2"  style="display:none;">
	<img src="public/images/modals/founding-02.jpg"/>
</div>

<div id="section1-photo" style="display:none;">
	<img src="public/images/modals/canals.jpg"/>
</div>

<div id="section-canals" style="display:none;">
	<img src="public/images/modals/canals-01.jpg"/>
</div>

<div id="section-canals-2" style="display:none;">
	<img src="public/images/modals/canals-02.jpg"/>
</div>

<div id="section2-photo" style="display:none;">
	<img src="public/images/modals/revolution.jpg"/>
</div>

<div id="section-revolution" style="display:none;">
	<img src="public/images/modals/revolution-02.jpg"/>
</div>

<div id="section-revolution-2" style="display:none;">
	<img src="public/images/modals/revolution-01.jpg"/>
</div>


<div id="section3-photo" style="display:none;">
	<img src="public/images/modals/progressive.jpg"/>
</div>

<div id="section-progressive" class="audio-modal" style="display:none;">
	<div id="progressive" class="modal-player"></div>
</div>

<div id="section4-photo" style="display:none;">
	<img src="public/images/modals/expansion.jpg"/>
</div>

<div id="section-expansion" class="audio-modal" style="display:none;">
	<div id="expansion" class="modal-player"></div>

</div>

<div id="section5-photo" style="display:none;">
	<img src="public/images/modals/postwwii.jpg"/>
</div>

<div id="section-ww2" class="audio-modal" style="display:none;">
	<div id="postww2" class="modal-player"></div>
</div>

<div id="section6-photo" style="display:none;">
	<img src="public/images/modals/todaytomorrow.jpg"/>
</div>

<div id="section-tomorrow" class="audio-modal" style="display:none;">
	<div id="tomorrow" class="modal-player"></div>
</div>


<!-- <img src="public/images/gradleft.png" class="gradient"/> -->

<div class="map-wrap">

	<div class="map-section">


		<a href="#section0-photo" rel="modal:open" class="button button-zero"><span>Read More</span></a>
		<a href="#section-founding" rel="modal:open" class="button button-founding"></a>
		<a href="#section-founding-2" rel="modal:open" class="button button-founding-2"></a>

		<a href="#section1-photo" rel="modal:open" class="button button-one"><span>Read More</span></a>
		<a href="#section-canals" rel="modal:open" class="button button-canals"></a>
		<a href="#section-canals-2" rel="modal:open" class="button button-canals-2"></a>

		<a href="#section2-photo" rel="modal:open" class="button button-two"><span>Read More</span></a>
		<a href="#section-revolution" rel="modal:open" class="button button-revolution"></a>
		<a href="#section-revolution-2" rel="modal:open" class="button button-revolution-2"></a>



		<a href="#section3-photo" rel="modal:open" class="button button-three"><span>Read More</span></a>
		<a href="#section-progressive" rel="modal:open" class="button button-progressive"></a>


		<a href="#section4-photo" rel="modal:open" class="button button-four"><span>Read More</span></a>
		<a href="#section-expansion" rel="modal:open" class="button button-expansion"></a>


		<a href="#section5-photo" rel="modal:open" class="button button-five"><span>Read More</span></a>
		<a href="#section-ww2" rel="modal:open" class="button button-ww2"></a>


		<a href="#section6-photo" rel="modal:open" class="button button-six"><span>Read More</span></a>
		<a href="#section-tomorrow" rel="modal:open" class="button button-tomorrow"></a>


	</div>

</div>


        </div>



        <script src="public/scripts/libs/jquery.min.js"></script>
        <script src="public/scripts/libs/jquery-touch.min.js"></script>
        <script src="public/scripts/libs/jquery.pep.min.js"></script>
        <script src="public/scripts/libs/modernizr.2.8.3.min.js"></script>
        <script src="public/scripts/scripts.min.js"></script>


        <script>
            /*$('.smooth').smoothScroll({
                offset: 0,
                speed: 1100,
                scrollElement: $('#content')
            });*/

            $(function() {
                $(".button").on("click", function() {
                    $("a.active").removeClass("active");
                    $(this).addClass("active");
                });
            });

            $('.map-section').pep({
                axis: 'x',
                useCSSTranslation: true,
                shouldPreventDefault: false,
                velocityMultiplier: 2,
                startPos: { left: 0 },
                //startThreshold: [10,0],
                rest: moveState,
                //revert: true,
                constrainTo: [0, 0, 0, ($('.map-wrap').width() - $("#map").width()) * -1]
            });

            var $pep = $('.map-section').pep();
                $('#home-button').on('click', function(){
                $pep.data('plugin_pep').revert()
            });

            $('img').on('dragstart', function(event) { event.preventDefault(); });
            //$('html').on('dragstart', function(event) { event.preventDefault(); });
            $('a').on('dragstart', function(event) { event.preventDefault(); });
            $('body').css('cursor', 'none');


            var threshold = 400;
            var rightthreshold = 6500;
            var mapSection = $('.map-section')
            var initialOffset =  mapSection.offset();

            function moveState(){
                //$("#home-button").addClass('hidden');

                var offset = this.$el.offset(); 
                var diffLeft = Math.abs( initialOffset.left - offset.left ); 

                if ( diffLeft < threshold ){
                    $("#home-button-hidden").click();
                    $("#home-button").addClass('hidden');

                } else if ( diffLeft > rightthreshold ) {
                    $("#outro-button-hidden").click();

                } else {
                    $("#home-button").removeClass('hidden');
                } 
            }

            // If theres no activity, do something
            var activityTimeout = setTimeout(inActive, 4*60*1000);

            function resetActive(){
                //$(document.body).attr('class', 'active');
                clearTimeout(activityTimeout);
                activityTimeout = setTimeout(inActive, 4*60*1000);
            }

            // No activity do something.
            function inActive(){
                //$(document.body).attr('class', 'inactive');
                $("#home-button").click();
                $.modal.close();
            }

            // Check for mousemove, could add other events here such as checking for key presses ect.
            $(document).bind('mousemove', function(){resetActive()});


            $(function() {
                $('.play-video').on('click', function(e) {
                    $('#video').modal({ clickClose: false });
                    //return false;
                });

                $('.stop-video').on('click', function(e) {
                    $.modal.close();
                });
            });

            //soundcloud

            (function() {
              var script = document.createElement('script');

              script.type = 'text/javascript';
              script.async = true;
              script.src = 'http://sd.toneden.io/production/toneden.loader.js'

              var entry = document.getElementsByTagName('script')[0];
              entry.parentNode.insertBefore(script, entry);
            }());

            ToneDenReady = window.ToneDenReady || [];
    
       
            ToneDenReady.push(function() {
              // This is where all the action happens:
                ToneDen.player.create({
                 dom: '#progressive',
                 urls: [
                    'https://soundcloud.com/theworksmuseum/sets/progressive-era'
              ],
                  single: false,
                  mini:false,
                  skin: 'dark',
               });

                ToneDen.player.create({
                 dom: '#expansion',
                 urls: [
                    'https://soundcloud.com/theworksmuseum/sets/a-history-of-newark-continued-expansion'
              ],
                  single: false,
                  mini:false,
                  skin: 'dark',
               });

              ToneDen.player.create({
                 dom: '#postww2',
                 urls: [
                    'https://soundcloud.com/theworksmuseum/sets/a-history-of-newark-post-world-war-ii'
              ],
                  single: false,
                  mini:false,
                  skin: 'dark',
               });

                ToneDen.player.create({
                 dom: '#tomorrow',
                 urls: [
                    'https://soundcloud.com/theworksmuseum/sets/a-history-of-newark-today-tomorrow'
              ],
                  single: false,
                  mini:false,
                  skin: 'dark',
               });
  
            });
            

        </script>
        
    </body>
</html>
